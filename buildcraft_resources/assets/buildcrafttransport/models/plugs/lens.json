{
    "textures": {
        "#main":"buildcrafttransport:pipes/lens",
        "#lens":"buildcrafttransport:pipes/overlay_lens",
        "#water_flowing":"minecraft:blocks/water_flow"
    },
    "variables": {
        "translucent_tex":"colour == 'clear' ? '#water_flowing' : '#lens'",
        "lens_colour":"convertColourToAbgr(colour)",
        "isFilter":"false"
    },
    "shade": true,
    "rules": [
        {
            "when": "side != 'west'",
            "type": "builtin:rotate_facing",
            "from": "'west'",
            "to": "side"
        }
    ],
    "cutout": [
        {
            "from": [ 0, 3, 3 ],
            "to": [ 2, 4.01, 13 ],
            "faces": {
                "down":  { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "up":    { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "north": { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "south": { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "west":  { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "east":  { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" }
            }
        },
        {
            "from": [ 0, 12.01, 3 ],
            "to": [ 2, 13, 13 ],
            "faces": {
                "down":  { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "up":    { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "north": { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "south": { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "west":  { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "east":  { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" }
            }
        },
        {
            "from": [ 0, 3, 3 ],
            "to": [ 2, 13, 4.01 ],
            "faces": {
                "down":  { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "up":    { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "north": { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "south": { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "west":  { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "east":  { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" }
            }
        },
        {
            "from": [ 0, 3, 12.01 ],
            "to": [ 2, 13, 13 ],
            "faces": {
                "down":  { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "up":    { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "north": { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "south": { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "west":  { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" },
                "east":  { "uv": [ 2, 4, 4, 12 ], "texture": "'#main'" }
            }
        }
    ],
    "translucent": [
        {
            "from": [ 0.5, 4, 4 ],
            "to": [ 1.5, 12, 12 ],
            "colour": "lens_colour",
            "visible":"isFilter ? colour != 'clear' : true",
            "faces": {
                "east": { "uv": [ 6, 6, 10, 10 ], "texture": "translucent_tex" },
                "west": { "uv": [ 6, 6, 10, 10 ], "texture": "translucent_tex" }
            }
        }
    ]
}